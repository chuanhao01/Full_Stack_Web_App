<main class="container-fluid mt-3">
    <div class="row">
        <div class="col-12 w-100">
            <article class="w-100 d-block">
                <h2 class="text-center">Create an account</h2>
            </article>
        </div>
        <div class="col-6">
            <b-form 
            {{!-- These corrospond to button type submit and reset events when pressed
            This then triggers the function in the vue object with the name --}}
            @submit='onSubmit'
            @reset='onReset'
            v-if='showForm'
            >
                {{!-- A form group is like an input here, group contains the label and input field --}}
                <b-form-group
                label='Your username'
                label-for='fUsername'>
                    <b-form-input
                    id="fUsername"
                    v-model='form.username'
                    type='text'
                    required
                    placeholder='Username'>
                    </b-form-input>
                </b-form-group>    
                <b-form-group
                label='Your password'
                label-for='fPassword'>
                    <b-form-input
                    id="fPassword"
                    v-model='form.password'
                    type='password'
                    required
                    placeholder='Password'>
                    </b-form-input>
                </b-form-group>
                <b-button type="submit" variant="primary">Submit</b-button>
                <b-button type="reset" variant="danger">Reset</b-button>
            </b-form>
        </div>
    </div>
</main>

{{#section 'scripts'}}
<script>
    const app = new Vue({
        el: '#app',
        data: {
            form: {
                username: '',
                password: '',
            },
            showForm: true
        },
        methods: {
            onSubmit(event){
                event.preventDefault();
                console.log(JSON.stringify(this.form));
                axios.post('/api/account', this.form).then(function(res){
                    console.log(res);
                });
            },
            onReset(event){
                event.preventDefault();
                this.form.username = '';
                this.form.password = '';
                //This is to reload the form to make it empty
                this.showForm = false;
                Vue.nextTick(() => {
                    this.showForm = true;
                });
            }
        }
    });
</script>
{{/section}}
